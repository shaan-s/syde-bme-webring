<html>
    <head>
        <link href="styles.css" rel="stylesheet" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <link rel="icon" type="image/x-icon" href="static/favicon.ico">
        <script src="script.js" type="module"></script>
        <script>
            const siteData = {
            "sites": [
                {
                "name": "Shaan Sawrup",
                "year": "2029",
                "program": "BME",
                "website": "https://about.ceruleanechoes.com"
                },
                {
                "name": "Ahyan Kabir",
                "year": "2029",
                "program": "BME",
                "website": "https://www.ahyankabir.me"
                },
                {
                "name": "Brandon Ling",
                "year": "2029",
                "program": "BME",
                "website": "https://brandonling.me"
                },
                <!-- !! Add your website here !! Copy the template and add it above !!-->
                <!-- {
                "name": "[First Last]",
                "year": "[Graduation Year]",
                "program": "[BME or SYDE]",
                "website": "[URL]"
                },-->

            ]}
        </script>
    </head>
    <body>
        <div class="midcontain">
        <div class="headbox hl"><h1>syde/&#8203;bme webring</h1><img src="static/largeicon.jpg"></div>
        <div class="headbox hr">
        <p>Welcome to the webring for the systems design and biomedical engineering programs at the <a href="https://uwaterloo.ca/">University of Waterloo</a> (Ontario, Canada).</p>

    <p>Open to current & past students, and faculty. Submit your website in a <a href="https://github.com/shaan-s/syde-bme-webring">github pull request</a>!</p>
    </div>

        <input id="searchbar" type=search placeholder="search by name or year... "> </input>
        <span style="color:#666;">filters:</span>
        <button id="BME">BME</button>
        <button id="SYDE">SYDE</button>

        <div id="resulttxt"><span id="sitescount">0</span> sites<span id="highlighted"></span></div>

        <div id="site-box">
        </div>
        <!--</div>
        <a href="#" id="prev-site">⬅</a>
        <a href="#" id="next-site">➡</a>
               </div>-->
        <div class="foot"><em><a href="https://github.com/shaan-s/syde-bme-webring">what is a webring?</a></em></div>

        <script>
            let currentIndex = 0; // testing
            //let currentIndex = siteData.sites.findIndex(site => site.website === window.location.href);

            document.getElementById("prev-site").addEventListener("click", function(event) {
                event.preventDefault(); // Prevent default link behavior

                // Go to the previous site if available
                if (currentIndex > 0) {
                    currentIndex--;
                }
                else { // currentIndex == 0
                    currentIndex = siteData.sites.length - 1;
                }
                window.location.href = siteData.sites[currentIndex].website;
            });

            document.getElementById("next-site").addEventListener("click", function(event) {
                event.preventDefault(); // Prevent default link behavior

                // Go to the previous site if available
                if (currentIndex < siteData.sites.length - 1) {
                    currentIndex++;
                }
                else { // currentIndex == siteData.sites.length - 1
                    currentIndex = 0;
                }
                window.location.href = siteData.sites[currentIndex].website;
            });
        </script>

    </body>
</html>
