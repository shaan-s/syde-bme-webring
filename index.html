<html>
    <head>
        <link href="styles.css" rel="stylesheet" />
        <link rel="icon" type="image/x-icon" href="static/favicon.ico">
        <script src="script.js" type="module"></script>
        <script>
            const siteData = {
            "sites": [
                {
                "name": "Ahyan Kabir",
                "year": "2029",
                "program": "BME",
                "website": "https://www.test.com"
                },
                {
                "name": "Shaan Sawrup",
                "year": "2029",
                "program": "BME",
                "website": "https://www.google.com"
                },
                {
                "name": "Seohee Yoon",
                "year": "2029",
                "program": "SYDE",
                "website": "https://www.uwaterloo.ca"
                },

            ]}
        </script>
    </head>
    <body>
        <div class="midcontain">
        <div class="headbox hl"><h1>syde/&#8203;bme webring</h1><img src="static/largeicon.jpg"></div>
        <div class="headbox hr">
            Welcome to the webring for the systems design and biomedical engineering programs at the <a href="https://uwaterloo.ca/">University of Waterloo</a> (Ontario, Canada). <br><br>

    Open to all current and past students as well as faculty. Submit your website in a <a href="https://github.com/shaan-s/syde-bme-webring">github pull request</a>!
    </div>

        <input id="searchbar" type=search placeholder="search by name or year... "> </input>
        <span style="color:#666;">filters:</span>
        <button id="BME">BME</button>
        <button id="SYDE">SYDE</button>

        <span style="float:right;color:#666;"><span id="sitescount">0</span> sites<span id="highlighted"></span></span>

        <div id="site-box">
        </div>
        </div>
        <a href="#" id="prev-site">⬅</a>
        <a href="#" id="next-site">➡</a>
               </div>


        <script>
            let currentIndex = 0; // testing
            //let currentIndex = siteData.sites.findIndex(site => site.website === window.location.href);

            document.getElementById("prev-site").addEventListener("click", function(event) {
                event.preventDefault(); // Prevent default link behavior

                // Go to the previous site if available
                if (currentIndex > 0) {
                    currentIndex--;
                }
                else { // currentIndex == 0
                    currentIndex = siteData.sites.length - 1;
                }
                window.location.href = siteData.sites[currentIndex].website;
            });

            document.getElementById("next-site").addEventListener("click", function(event) {
                event.preventDefault(); // Prevent default link behavior

                // Go to the previous site if available
                if (currentIndex < siteData.sites.length - 1) {
                    currentIndex++;
                }
                else { // currentIndex == siteData.sites.length - 1
                    currentIndex = 0;
                }
                window.location.href = siteData.sites[currentIndex].website;
            });
        </script>

    </body>
</html>
