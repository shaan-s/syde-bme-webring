<html>
    <head>
        <link href="styles.css" rel="stylesheet" />
        <script src="script.js" type="module"></script>
        <script>
            const siteData = {
            "sites": [
                {
                "name": "Ahyan Kabir",
                "year": "2029",
                "program": "BME",
                "website": "test.com"
                },
                {
                "name": "Shaan Sawrup",
                "year": "2029",
                "program": "BME",
                "website": "https://www.test.com"
                },
                {
                "name": "Seohee Yoon",
                "year": "2029",
                "program": "SYDE",
                "website": "test.com"
                },

            ]}
        </script>
    </head>
    <body>
        <div class="midcontain">
            <div class="headbox" style="float:right;">
                Welcome to the webring for the SYDE and BME programs at the University of Waterloo. <br><br>
        Submit your website in a <a href="">github pull request</a>!
        </div>
        <div class="headbox"><h1>syde/bme webring</h1></div>


        <input id="searchbar" type=search placeholder="Search by name or year "> </input>
        <span style="color:#666;">Filters:</span>
        <button id="BME">BME</button>
        <button id="SYDE">SYDE</button>

        <div id="site-box">
        </div>
        </div>

               </div>
        <a href="#" id="prev-site">⬅</a>
        <a href="#" id="next-site">➡</a>

        <script>
            let currentIndex = 0; // testing
            //let currentIndex = siteData.sites.findIndex(site => site.website === window.location.href);

            document.getElementById("prev-site").addEventListener("click", function(event) {
                event.preventDefault(); // Prevent default link behavior

                // Go to the previous site if available
                if (currentIndex > 0) {
                    currentIndex--;
                }
                else { // currentIndex == 0
                    currentIndex = siteData.sites.length - 1;
                }
                window.location.href = siteData.sites[currentIndex].website;
            });

            document.getElementById("next-site").addEventListener("click", function(event) {
                event.preventDefault(); // Prevent default link behavior

                // Go to the previous site if available
                if (currentIndex < siteData.sites.length - 1) {
                    currentIndex++;
                }
                else { // currentIndex == siteData.sites.length - 1
                    currentIndex = 0;
                }
                window.location.href = siteData.sites[currentIndex].website;
            });
        </script>

    </body>
</html>
